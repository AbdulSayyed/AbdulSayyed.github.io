<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Reading and Writing Access using Nibabel | Sayyed's blog</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://AbdulSayyed.github.io/notebooks/nibabel-001/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><link href="../../assets/css/custom.css" rel="stylesheet" type="text/css">
<!-- Font Awesome --><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
<meta name="author" content="Abdul Sayyed">
<link rel="prev" href="../scikit-001/" title="Science Kit learning" type="text/html">
<link rel="next" href="../matplot-001/" title="Introduction to matplot" type="text/html">
<meta property="og:site_name" content="Sayyed's blog">
<meta property="og:title" content="Reading and Writing Access using Nibabel">
<meta property="og:url" content="https://AbdulSayyed.github.io/notebooks/nibabel-001/">
<meta property="og:description" content="What is this pakcage ?¶
It provides read write acees to commonly used Neuroimaging files which includes many formats








Installation¶
Use pip install nibabel

Test installaiton¶
Use import nibabe">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2020-07-29T20:18:36+01:00">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="../../">

            <span id="blog-title">Sayyed's blog</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">My Blogs</a>
            <div class="dropdown-menu">
                    <a href="../../categories/cat_python/" class="dropdown-item">Python</a>
                    <a href="../../categories/cat_neuroscience/" class="dropdown-item">Neuroscience</a>
                    <a href="../../categories/cat_nipype/" class="dropdown-item">Neuroimaging in Python</a>
                    <a href="../../categories/cat_nikola/" class="dropdown-item">Nikola</a>
                    <a href="../../categories/cat_nilearn/" class="dropdown-item">Neuro-Imaging with machine Learning</a>
                    <a href="../../categories/cat_nibabel/" class="dropdown-item">Nibabel, Reading and Writing to images</a>
            </div>
            </li>
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About</a>
            <div class="dropdown-menu">
                    <a href="../../pages/aboutme/" class="dropdown-item">About</a>
                    <a href="../../pages/publication/" class="dropdown-item">Publications</a>
            </div>
                </li>
<li class="nav-item">
<a href="../../archive/" class="nav-link">Archives</a>
                </li>
<li class="nav-item">
<a href="../../rss.xml" class="nav-link">RSS feed</a>
                </li>
<li class="nav-item">
<a href="../../categories/index.html" class="nav-link">Tags</a>

                
            </li>
</ul>
<form method="get" action="https://www.google.com/search" class="form-inline my-2 my-lg-0" role="search">
 <div class="form-group">
 <input type="text" name="q" class="form-control mr-sm-2" placeholder="Search">
</div>
 <button type="submit" class="btn btn-secondary my-2 my-sm-0">
    <i class="fas fa-search"></i></button>
 
 <input type="hidden" name="sitesearch" value="https://AbdulSayyed.github.io/">
</form>


            <ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Reading and Writing Access using Nibabel</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/abdul-sayyed/">Abdul Sayyed</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2020-07-29T20:18:36+01:00" itemprop="datePublished" title="2020-07-29">2020-07-29</time></a>
            </p>
                <p class="commentline">
        


            

        </p>
</div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="What-is-this-pakcage-?">What is this pakcage ?<a class="anchor-link" href="#What-is-this-pakcage-?">¶</a>
</h3>
<ul>
<li>It provides read write acees to commonly used Neuroimaging files which includes many formats</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Installation">Installation<a class="anchor-link" href="#Installation">¶</a>
</h3>
<ul>
<li>Use <code>pip install nibabel</code>
</li>
</ul>
<h4 id="Test-installaiton">Test installaiton<a class="anchor-link" href="#Test-installaiton">¶</a>
</h4>
<ul>
<li>Use <code>import nibabel; nibabel.(__version__);print('succeeded!')</code>
</li>
</ul>
<h4 id="Run-builtin-test">Run builtin test<a class="anchor-link" href="#Run-builtin-test">¶</a>
</h4>
<ul>
<li><code>import nibabel; nibabel.test()</code></li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Start-working">Start working<a class="anchor-link" href="#Start-working">¶</a>
</h4>
<ul>
<li>
<p>Import and use its exposed version <code>nibabel.(__version__)</code></p>
</li>
<li>
<p>Reading a nifti file. <code>nibabel.load(&lt;filename&gt;)</code></p>
</li>
<li>
<p>A file that is read is used in a variabel say <code>anat_img = nibabel.load('sample.nii.gz')</code>. This object knows the file <code>shape</code>  and image affine ( array matrix) shape. Another attribute is <code>dataobj</code> that gives you the detail of where this object is pointing to.</p>
</li>
</ul>
<ul>
<li>
<p>The ouput of <code>nibabel</code> loaded object is an instance of <code>nibabel.nifti1.Nifti1Image</code> which get read in a memory. When it is printed it gives you the address as well for example <code>0x7fdbdc86b2e0.</code>.</p>
</li>
<li>
<p>One can see that the super class is of <code>nibabel.nifti1</code>. This class exposes number of ...file</p>
</li>
<li>
<p>The <code>nibabel</code> attribute <code>dataobj</code> is an object that point to an image array that get loaded.,it is of <code>nibabel.arrayproxy.ArrayProxy ojbect</code>.</p>
</li>
<li>
<p><code>Array proxies and proxy images</code> are the techniques <code>nibabel</code> uses to load an image from disk, an array <code>proxy</code> is not the array itself but something that represents the array and can provide the array when we load it. It allows us to create the image object withou immediately loading all the array data from sik.</p>
</li>
<li>
<p>Proxy is used rightly because images with an <code>proxy object</code> like this one are called <code>proxy images</code> because the <code>image data</code> is the proxy points to the array data on disk.</p>
</li>
<li>
<p>To check if it is a proxy, <code>nib.is_proxy(anat_img)</code></p>
</li>
<li>
<p>Image shape and affine shape can be found out using <code>numpy object</code> and to do so you need to get an object that points to an image.</p>
</li>
<li>
<p>And it is done using <code>img_data = anat_img.get_fdata())</code>. This method returns a numpy array object. Its <code>shape</code> attribute will give the same result as <code>nibiabel</code> object.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Start-reading-(-loading-)-an-image.">Start reading ( loading ) an image.<a class="anchor-link" href="#Start-reading-(-loading-)-an-image.">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">nibabel</span> <span class="k">as</span> <span class="nn">nib</span> 
<span class="n">img</span> <span class="o">=</span> <span class="n">nib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">'data/oxf/ExBox1/STRUCT0001.nii.gz'</span><span class="p">)</span>

<span class="c1"># gets its attribute</span>
<span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>            <span class="c1"># it will use (img.header.get_data_shape())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">affine</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>    <span class="c1"># </span>
<span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">dataobj</span><span class="p">)</span>
<span class="n">header</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">header</span>
<span class="nb">print</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">header</span><span class="o">.</span><span class="n">get_data_shape</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">header</span><span class="o">.</span><span class="n">get_data_dtype</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">header</span><span class="o">.</span><span class="n">get_zooms</span><span class="p">())</span> <span class="c1"># voxel in milimiter, and the time between scans in ms, it is the lst value.</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>(192, 256, 256)
(4, 4)
&lt;nibabel.arrayproxy.ArrayProxy object at 0x7f1493ccc2b0&gt;
&lt;class 'nibabel.nifti1.Nifti1Header'&gt; object, endian='&lt;'
sizeof_hdr      : 348
data_type       : b''
db_name         : b''
extents         : 0
session_error   : 0
regular         : b'r'
dim_info        : 0
dim             : [  3 192 256 256   1   1   1   1]
intent_p1       : 0.0
intent_p2       : 0.0
intent_p3       : 0.0
intent_code     : none
datatype        : int16
bitpix          : 16
slice_start     : 0
pixdim          : [-1.         1.0500001  1.         1.         5.         0.
  0.         0.       ]
vox_offset      : 0.0
scl_slope       : nan
scl_inter       : nan
slice_end       : 0
slice_code      : unknown
xyzt_units      : 10
cal_max         : 1218.0
cal_min         : 0.0
slice_duration  : 0.0
toffset         : 0.0
glmax           : 0
glmin           : 0
descrip         : b'5.0.10'
aux_file        : b''
qform_code      : scanner
sform_code      : scanner
quatern_b       : 0.0
quatern_c       : 1.0
quatern_d       : 0.0
qoffset_x       : 103.30165
qoffset_y       : -119.3996
qoffset_z       : -128.21066
srow_x          : [ -1.0500001   0.          0.        103.30165  ]
srow_y          : [   0.        1.        0.     -119.3996]
srow_z          : [   0.         0.         1.      -128.21066]
intent_name     : b''
magic           : b'n+1'
(192, 256, 256)
int16
(1.0500001, 1.0, 1.0)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">&gt;</span> <span class="n">Most</span> <span class="n">of</span> <span class="n">the</span> <span class="n">header</span> <span class="n">information</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">directly</span> <span class="n">accessebile</span> <span class="n">but</span> <span class="n">retrieved</span>  <span class="n">by</span> <span class="n">using</span>  <span class="n">getter</span> <span class="err">`</span><span class="n">obj</span><span class="o">.</span><span class="n">get_dtype</span><span class="p">()</span><span class="err">`</span> <span class="n">etc</span><span class="o">.</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Image-data">Image data<a class="anchor-link" href="#Image-data">¶</a>
</h3>
<ul>
<li>An image array can also be stored in the image object as numpy array.</li>
<li>To get more about image data, we can get a handle to <code>dataobj</code> that is returned by this function <code>image_data = img.get-fdata()</code>. It is a <code>numpy.ndarray</code> object that represents the data object.</li>
<li>Image data object contains all the information that we can directly retrieved by using an image <code>header</code> object. It is another way to represent the data. For example <code>header.get_dtype()</code> will give same result as <code>img_data.dtype</code>.</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">nibabel</span> <span class="k">as</span> <span class="nn">nib</span>
<span class="n">anat_img</span> <span class="o">=</span> <span class="n">nib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">'data/oxf/ExBox1/STRUCT0001.nii.gz'</span><span class="p">)</span>
<span class="n">anat_img_data</span> <span class="o">=</span> <span class="n">anat_img</span><span class="o">.</span><span class="n">get_fdata</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">anat_img_data</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"*********************************"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">anat_img_data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"*********************************"</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">anat_img_data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">anat_img_data</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class 'numpy.ndarray'&gt;
*********************************
[[[33. 27. 17. ...  1.  0.  0.]
  [19.  0.  2. ...  0.  0.  0.]
  [29.  4.  5. ...  0.  0.  0.]
  ...
  [17.  2.  5. ...  1.  1.  0.]
  [10.  5. 11. ...  1.  1.  0.]
  [ 0.  0.  0. ...  0.  0.  0.]]

 [[11. 20.  7. ...  1.  0.  0.]
  [11. 18. 10. ...  0.  0.  0.]
  [10.  4.  5. ...  1.  1.  0.]
  ...
  [14. 15.  7. ...  0.  1.  0.]
  [ 7. 12. 11. ...  1.  1.  0.]
  [ 0.  0.  0. ...  0.  0.  0.]]

 [[ 7.  4. 18. ...  1.  0.  0.]
  [ 3.  4. 20. ...  1.  1.  0.]
  [ 9.  7. 22. ...  0.  1.  0.]
  ...
  [14. 13.  9. ...  1.  1.  0.]
  [ 5.  5. 15. ...  1.  0.  0.]
  [ 0.  0.  0. ...  0.  0.  0.]]

 ...

 [[16. 17.  9. ...  0.  0.  0.]
  [19. 14.  8. ...  1.  0.  0.]
  [30. 15. 15. ...  1.  0.  0.]
  ...
  [ 0.  9.  5. ...  0.  0.  0.]
  [ 0.  6. 10. ...  1.  0.  0.]
  [ 0.  0.  0. ...  0.  0.  0.]]

 [[23. 16. 16. ...  1.  0.  0.]
  [10. 28. 24. ...  0.  0.  0.]
  [ 1. 12. 15. ...  0.  1.  0.]
  ...
  [ 7. 11. 16. ...  1.  1.  0.]
  [11.  1.  5. ...  0.  1.  0.]
  [ 0.  0.  0. ...  0.  0.  0.]]

 [[20. 27.  3. ...  1.  0.  0.]
  [21. 22. 24. ...  0.  0.  0.]
  [ 0. 19. 44. ...  0.  0.  0.]
  ...
  [15.  4.  7. ...  0.  0.  0.]
  [12.  4.  4. ...  1.  0.  0.]
  [ 0.  0.  0. ...  0.  0.  0.]]]
*********************************
(192, 256, 256)
float64
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># As we saw, that the retruned data object is of `numpy.ndarry `. We can also create an image of `numpy arrays` </span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">array_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">array_data</span><span class="p">)</span>

<span class="nb">print</span> <span class="p">(</span><span class="s2">"*------------------------*"</span><span class="p">)</span>
<span class="n">array_data</span> <span class="o">=</span> <span class="n">array_data</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">array_data</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">"*------------------------*"</span><span class="p">)</span>
<span class="n">affine</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">affine</span><span class="p">)</span>
<span class="n">array_img</span> <span class="o">=</span> <span class="n">nib</span><span class="o">.</span><span class="n">Nifti1Image</span><span class="p">(</span><span class="n">array_data</span><span class="p">,</span><span class="n">affine</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">array_img</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">array_img</span><span class="o">.</span><span class="n">dataobj</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23]
*------------------------*
[[[ 0  1  2  3]
  [ 4  5  6  7]
  [ 8  9 10 11]]

 [[12 13 14 15]
  [16 17 18 19]
  [20 21 22 23]]]
*------------------------*
[[1 0 0 0]
 [0 2 0 0]
 [0 0 3 0]
 [0 0 0 1]]
&lt;class 'nibabel.nifti1.Nifti1Image'&gt;
data shape (2, 3, 4)
affine: 
[[1. 0. 0. 0.]
 [0. 2. 0. 0.]
 [0. 0. 3. 0.]
 [0. 0. 0. 1.]]
metadata:
&lt;class 'nibabel.nifti1.Nifti1Header'&gt; object, endian='&lt;'
sizeof_hdr      : 348
data_type       : b''
db_name         : b''
extents         : 0
session_error   : 0
regular         : b''
dim_info        : 0
dim             : [3 2 3 4 1 1 1 1]
intent_p1       : 0.0
intent_p2       : 0.0
intent_p3       : 0.0
intent_code     : none
datatype        : int16
bitpix          : 16
slice_start     : 0
pixdim          : [1. 1. 2. 3. 1. 1. 1. 1.]
vox_offset      : 0.0
scl_slope       : nan
scl_inter       : nan
slice_end       : 0
slice_code      : unknown
xyzt_units      : 0
cal_max         : 0.0
cal_min         : 0.0
slice_duration  : 0.0
toffset         : 0.0
glmax           : 0
glmin           : 0
descrip         : b''
aux_file        : b''
qform_code      : unknown
sform_code      : aligned
quatern_b       : 0.0
quatern_c       : 0.0
quatern_d       : 0.0
qoffset_x       : 0.0
qoffset_y       : 0.0
qoffset_z       : 0.0
srow_x          : [1. 0. 0. 0.]
srow_y          : [0. 2. 0. 0.]
srow_z          : [0. 0. 3. 0.]
intent_name     : b''
magic           : b'n+1'
[[[ 0  1  2  3]
  [ 4  5  6  7]
  [ 8  9 10 11]]

 [[12 13 14 15]
  [16 17 18 19]
  [20 21 22 23]]]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="checking-the-data-type">checking the data type<a class="anchor-link" href="#checking-the-data-type">¶</a>
</h4>
<ul>
<li>An image data object can be of <code>array_img.dataobject</code>, <code>farray_img.dataobj</code>
</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="n">anat_img_data</span> <span class="ow">is</span> <span class="n">array_img</span><span class="o">.</span><span class="n">dataobj</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"It is of array_img.dataobj"</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">anat_img_data</span> <span class="ow">is</span> <span class="n">farray_img</span><span class="o">.</span><span class="n">dataobj</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"It is of arry_img.dataob"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"unknown data dyte"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-14-4c9ab58e1037&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span><span class="ansi-green-fg">if</span> anat_img_data <span class="ansi-green-fg">is</span> array_img<span class="ansi-blue-fg">.</span>dataobj<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span>     print<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">"It is of array_img.dataobj"</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> <span class="ansi-green-fg">elif</span> anat_img_data <span class="ansi-green-fg">is</span> farray_img<span class="ansi-blue-fg">.</span>dataobj<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span>     print<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">"It is of arry_img.dataob"</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span> <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>

<span class="ansi-red-fg">NameError</span>: name 'array_img' is not defined</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">### Image slicing</span>

<span class="o">-</span>

<span class="c1">### Loading and Saving</span>

<span class="o">-</span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> 
<span class="k">def</span> <span class="nf">show_slices</span><span class="p">(</span><span class="n">slices</span><span class="p">):</span>
    <span class="sd">''' Function to desplay row of image slices '''</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">slices</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="nb">slice</span> <span class="ow">in</span> <span class="nb">enumerate</span> <span class="p">(</span><span class="n">slices</span><span class="p">):</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="nb">slice</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">"gray"</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s2">"lower"</span><span class="p">)</span>
    
<span class="n">slice_0</span> <span class="o">=</span> <span class="n">epi_img_data</span><span class="p">[</span><span class="mi">96</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">slice_0</span><span class="p">))</span>
<span class="n">slice_1</span> <span class="o">=</span> <span class="n">epi_img_data</span><span class="p">[:,</span> <span class="mi">128</span><span class="p">,</span> <span class="p">:]</span>
<span class="n">slice_2</span> <span class="o">=</span> <span class="n">epi_img_data</span><span class="p">[:,</span> <span class="p">:,</span> <span class="mi">128</span><span class="p">]</span>
<span class="n">show_slices</span><span class="p">([</span><span class="n">slice_0</span><span class="p">,</span><span class="n">slice_1</span><span class="p">,</span><span class="n">slice_2</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s2">"Center slices for EPI image"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Get the header of the data</span>
<span class="n">cwd</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="n">data_dir</span> <span class="o">=</span> <span class="n">cwd</span> <span class="o">+</span> <span class="s2">"/data/ds000114/"</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="c1">#print("file header only" + header)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../scikit-001/" rel="prev" title="Science Kit learning">Previous post</a>
            </li>
            <li class="next">
                <a href="../matplot-001/" rel="next" title="Introduction to matplot">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        


        </section><script src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script><script>
                renderMathInElement(document.body,
                    {
                        
delimiters: [
    {left: "$$", right: "$$", display: true},
    {left: "\\[", right: "\\]", display: true},
    {left: "\\begin{equation*}", right: "\\end{equation*}", display: true},
    {left: "$", right: "$", display: false},
    {left: "\\(", right: "\\)", display: false}
]

                    }
                );
            </script></article><!--End of body content--><footer id="footer"><center>
<br>
Contents © 2020 <a href="mailto:neuro.sayyed@gmail.com">Abdul Sayyed</a> '
</center>
<br></footer>
</div>
</div>


        <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
