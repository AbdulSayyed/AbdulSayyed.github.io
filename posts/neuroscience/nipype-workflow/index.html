<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>nipype-workflow | Sayyed's blog</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../../rss.xml">
<link rel="canonical" href="https://AbdulSayyed.github.io/posts/neuroscience/nipype-workflow/">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><link href="../../assets/css/custom.css" rel="stylesheet" type="text/css">
<!-- Font Awesome --><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
<meta name="author" content="Abdul Sayyed">
<link rel="prev" href="../../../notebooks/005-intro/" title="Nipype introduction" type="text/html">
<meta property="og:site_name" content="Sayyed's blog">
<meta property="og:title" content="nipype-workflow">
<meta property="og:url" content="https://AbdulSayyed.github.io/posts/neuroscience/nipype-workflow/">
<meta property="og:description" content="My setup of nipype

I have successfully created a conda environment for nipype. it is located here ().
The directory I have chosen to work is /nikol/ the listing is given as below.

⋊&gt; ~/n/p/nikola ll">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2020-07-21T18:24:13+01:00">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="../../../">

            <span id="blog-title">Sayyed's blog</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">My Blogs</a>
            <div class="dropdown-menu">
                    <a href="../../../categories/cat_python/" class="dropdown-item">Python</a>
                    <a href="../../../categories/cat_neuroscience/" class="dropdown-item">Neuroscience</a>
                    <a href="../../../categories/cat_nipype/" class="dropdown-item">Neuroimaging in Python</a>
                    <a href="../../../categories/cat_nikola/" class="dropdown-item">Nikola</a>
            </div>
            </li>
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About</a>
            <div class="dropdown-menu">
                    <a href="../../../pages/aboutme/" class="dropdown-item">About</a>
                    <a href="../../../pages/publication/" class="dropdown-item">Publications</a>
            </div>
                </li>
<li class="nav-item">
<a href="../../../archive/" class="nav-link">Archives</a>
                </li>
<li class="nav-item">
<a href="../../../rss.xml" class="nav-link">RSS feed</a>
                </li>
<li class="nav-item">
<a href="../../../categories/index.html" class="nav-link">Tags</a>

                
            </li>
</ul>
<form method="get" action="https://www.google.com/search" class="form-inline my-2 my-lg-0" role="search">
 <div class="form-group">
 <input type="text" name="q" class="form-control mr-sm-2" placeholder="Search">
</div>
 <button type="submit" class="btn btn-secondary my-2 my-sm-0">
    <i class="fas fa-search"></i></button>
 
 <input type="hidden" name="sitesearch" value="https://AbdulSayyed.github.io/">
</form>


            <ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">nipype-workflow</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../../authors/abdul-sayyed/">Abdul Sayyed</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2020-07-21T18:24:13+01:00" itemprop="datePublished" title="2020-07-21">2020-07-21</time></a>
            </p>
                <p class="commentline">
        


            

        </p>
</div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<h3>My setup of nipype</h3>
<ul>
<li>I have successfully created a conda environment for <code>nipype</code>. it is located here ().</li>
<li>The directory I have chosen to work is <code>/nikol/</code> the listing is given as below.</li>
</ul>
<pre class="code literal-block"><span></span><code><span class="err">⋊</span><span class="o">&gt;</span> <span class="o">~/</span><span class="n">n</span><span class="o">/</span><span class="n">p</span><span class="o">/</span><span class="n">nikola</span> <span class="n">ll</span>                                                                                                         <span class="p">(</span><span class="n">base</span><span class="p">)</span> <span class="mi">17</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">36</span>
<span class="n">total</span> <span class="mi">52</span><span class="n">K</span>
<span class="n">drwxrwxr</span><span class="o">-</span><span class="n">x</span> <span class="mi">12</span> <span class="n">sayyed</span> <span class="n">sayyed</span> <span class="mf">4.0</span><span class="n">K</span> <span class="n">Jul</span> <span class="mi">10</span> <span class="mi">21</span><span class="p">:</span><span class="mi">35</span> <span class="n">demosite</span><span class="o">/</span>
<span class="n">drwxrwxr</span><span class="o">-</span><span class="n">x</span>  <span class="mi">6</span> <span class="n">sayyed</span> <span class="n">sayyed</span> <span class="mf">4.0</span><span class="n">K</span> <span class="n">Jul</span> <span class="mi">18</span> <span class="mi">00</span><span class="p">:</span><span class="mi">27</span> <span class="n">Ex_01</span><span class="o">/</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span>  <span class="mi">1</span> <span class="n">sayyed</span> <span class="n">sayyed</span>  <span class="mi">28</span><span class="n">K</span> <span class="n">Jul</span> <span class="mi">16</span> <span class="mi">18</span><span class="p">:</span><span class="mi">15</span> <span class="n">installed</span><span class="o">-</span><span class="n">moudle</span><span class="o">.</span><span class="n">txt</span>
<span class="n">drwxrwxr</span><span class="o">-</span><span class="n">x</span> <span class="mi">13</span> <span class="n">sayyed</span> <span class="n">sayyed</span> <span class="mf">4.0</span><span class="n">K</span> <span class="n">Jul</span> <span class="mi">21</span> <span class="mi">18</span><span class="p">:</span><span class="mi">23</span> <span class="n">mysite</span><span class="o">/</span>
<span class="n">lrwxrwxrwx</span>  <span class="mi">1</span> <span class="n">sayyed</span> <span class="n">sayyed</span>   <span class="mi">31</span> <span class="n">Jul</span> <span class="mi">21</span> <span class="mi">16</span><span class="p">:</span><span class="mi">11</span> <span class="n">nik</span><span class="o">-</span><span class="n">nip</span><span class="o">-</span><span class="n">vscode</span> <span class="o">-&gt;</span> <span class="o">./.</span><span class="n">vscode</span><span class="o">/</span><span class="n">Nikola</span><span class="o">.</span><span class="n">code</span><span class="o">-</span><span class="n">workspace</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span>  <span class="mi">1</span> <span class="n">sayyed</span> <span class="n">sayyed</span> <span class="mf">8.1</span><span class="n">K</span> <span class="n">Jul</span> <span class="mi">16</span> <span class="mi">18</span><span class="p">:</span><span class="mi">13</span> <span class="n">requirement</span><span class="o">.</span><span class="n">txt</span>
<span class="err">⋊</span><span class="o">&gt;</span> <span class="o">~/</span><span class="n">n</span><span class="o">/</span><span class="n">p</span><span class="o">/</span><span class="n">nikola</span>    
</code></pre>


<ul>
<li>The <code>demosite</code> I do not need and it will be deleted.</li>
<li>Mysite directory is the main directory of nikola blog.</li>
<li>The <code>vsocde workspace</code> is saved in <code>.vscode</code> folder and pointed by <code>nik-nip-vscode</code> link ( it is uselss at this moment)</li>
</ul>
<h4>How <code>notebook</code> differs when created in <code>nikola</code> or in <code>jupyterlab</code>?</h4>
<ol>
<li>Notebook can be created in many ways. But when nikola does its scanning it throws an error if it does not find the meta data it requires for a notebook  to be a part of the nikola.</li>
<li>It does not matter where it can be created from, the meta data can be easily added. Inorder for nikola to open and work with notebook, it has to have some meta data inside it. It is not a rocket science as I had gread difficulty dealing with notebook when trying to open them with pelican or embed them in markdown file. Though I have not been successful to embed notebooks in markdown files using short code as described by nikola docuemtation.</li>
<li>Follwing is a meta data entries when the file is created by jupter lab selecting particular ipython kernel. Ipython kernil is just a python interpreter name that you have created in your conda or pip environment and given it a uniqure name. For exampe when I created <code>nipype</code> environment I installed different version of differnt software that can work together. This version is knows as your particular python kernel or interpreter.</li>
</ol>
<pre class="code literal-block"><span></span><code><span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">"kernelspec"</span><span class="p">:</span> <span class="p">{</span>
   <span class="s2">"display_name"</span><span class="p">:</span> <span class="s2">"Python (nipype)"</span><span class="p">,</span> <span class="c1"># This is added when you choose you particular python kernel</span>
   <span class="s2">"language"</span><span class="p">:</span> <span class="s2">"python"</span><span class="p">,</span>
   <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"nipype"</span>
  <span class="p">},</span>
  <span class="s2">"language_info"</span><span class="p">:</span> <span class="p">{</span>
   <span class="s2">"codemirror_mode"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"ipython"</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="p">:</span> <span class="mi">3</span>
   <span class="p">},</span>
   <span class="s2">"file_extension"</span><span class="p">:</span> <span class="s2">".py"</span><span class="p">,</span>
   <span class="s2">"mimetype"</span><span class="p">:</span> <span class="s2">"text/x-python"</span><span class="p">,</span>
   <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"python"</span><span class="p">,</span>
   <span class="s2">"nbconvert_exporter"</span><span class="p">:</span> <span class="s2">"python"</span><span class="p">,</span>
   <span class="s2">"pygments_lexer"</span><span class="p">:</span> <span class="s2">"ipython3"</span><span class="p">,</span>
   <span class="s2">"version"</span><span class="p">:</span> <span class="s2">"3.8.2"</span>
  <span class="p">}</span>
</code></pre>


<ol>
<li>The above detail is enough for jupyter to open the file but not for nikola needs to know more to deal with correct theme and template to open notebook data. Follwing information is needed and can simply be added into the above meta data.</li>
</ol>
<pre class="code literal-block"><span></span><code><span class="s2">"nikola"</span><span class="p">:</span> <span class="p">{</span>
   <span class="s2">"author"</span><span class="p">:</span> <span class="s2">"Abdul Sayyed"</span><span class="p">,</span>
   <span class="s2">"category"</span><span class="p">:</span> <span class="s2">"nipype"</span><span class="p">,</span>
   <span class="s2">"date"</span><span class="p">:</span> <span class="s2">"2020-07-10 15:43:54 UTC+01:00"</span><span class="p">,</span>
   <span class="s2">"description"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
   <span class="s2">"link"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
   <span class="s2">"slug"</span><span class="p">:</span> <span class="s2">"001_intro"</span><span class="p">,</span>
   <span class="s2">"tags"</span><span class="p">:</span> <span class="s2">"python, jupyter, nipype"</span><span class="p">,</span>
   <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"001_intro"</span><span class="p">,</span>
   <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"text"</span>
  <span class="p">}</span>
</code></pre>


<h4>How to create a notebook with vscode.</h4>
<ol>
<li>Using command pattlet we can use <code>&gt; create notebook</code> command. There are other worth exploring as of importing as well.</li>
<li>Running notebook in vscode and setting it properly can be handy. The scroll bar shows, wchic environmen is selected. If the wrong one is selected, by clicking on the status bar on the infromation it will open different environment where the right one can be opened. Once the right one is opened. The notebook already have installed module such as <code>numpy, matplot or nipype</code> exposed api avilable to use.</li>
<li>On the right hand top corner, vscode also shows the local server and the right kernel selected.</li>
<li>It is very handy that in my one <code>notebook</code> folder created in <code>nikola</code> top level directories, I can have different notebooks set and ready to be used with different environments.</li>
<li>They can all be opened from one place and knows which environment they are to be used as in their meta contents this information is saved.</li>
<li>If not the right kernel can be opened from the right corner.</li>
</ol>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../../../notebooks/005-intro/" rel="prev" title="Nipype introduction">Previous post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        


        </section></article><!--End of body content--><footer id="footer"><center>
<br>
Contents © 2020 <a href="mailto:neuro.sayyed@gmail.com">Abdul Sayyed</a> '
</center>
<br></footer>
</div>
</div>


        <script src="../../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
